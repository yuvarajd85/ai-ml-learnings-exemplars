âœ… Test Case 1: Happy Path â€“ Clean Approval with Human-in-Loop
ğŸ¯ Tests

Full agent pipeline

All tools used

Human approval path

ğŸ§© User Input

â€œWe need 50 MacBooks for new engineering hires next quarter. Budget is around 75L. Prefer Apple authorized vendors.â€

ğŸ” Expected Multi-Round Flow

Intake Agent

Extracts all fields

Status: READY_FOR_REVIEW

Policy Agent

SOFT_BLOCK (approval required)

Finance Agent

Budget sufficient

Risk: HIGH

Vendor Risk Agent

Vendor approved, low risk

Reviewer Agent

Decision: ESCALATE_TO_HUMAN

Human Proxy

Approves with conditions

Reviewer Agent

Confirms final outcome

ğŸ§  Why it matters

This is your demo baseline â€” everything works, nothing breaks.

âš ï¸ Test Case 2: Missing Required Fields â†’ Clarification Loop
ğŸ¯ Tests

Intake agent clarification

Selector routing back to same agent

Multi-round extraction

ğŸ§© User Input

â€œNeed laptops for new hires.â€

ğŸ” Expected Flow

Intake Agent

Missing: quantity, budget, timeline

Status: INCOMPLETE

User

â€œ50 laptops, budget ~40Lâ€

Intake Agent

Still missing timeline

User

â€œNext quarterâ€

Intake Agent

Status: READY_FOR_REVIEW

Continue normal pipelineâ€¦

ğŸ§  Why it matters

Shows stateful conversation and non-linear flow.

âŒ Test Case 3: Hard Policy Violation â†’ Forced Rejection
ğŸ¯ Tests

Policy hard block

Early termination

Reviewer override prevention

ğŸ§© User Input

â€œPurchase crypto mining GPUs worth 1.2 crore for experimentation.â€

ğŸ” Expected Flow

Intake Agent

Extracts fields

Policy Agent

HARD_BLOCK (restricted category + amount)

Reviewer Agent

Decision: REJECT

Human Proxy

Optional override attempt

Reviewer Agent

Enforces policy rejection

ğŸ§  Why it matters

Demonstrates guardrails beat humans when required.

ğŸ’¸ Test Case 4: Budget Insufficient â†’ Human Negotiation Loop
ğŸ¯ Tests

Finance agent blocking

Human modifying request

Re-evaluation cycle

ğŸ§© User Input

â€œNeed 50 MacBooks for engineering. Budget is 90L.â€

ğŸ” Expected Flow

Intake Agent

READY_FOR_REVIEW

Finance Agent

Budget insufficient (only 80L available)

Reviewer Agent

ESCALATE_TO_HUMAN

Human Proxy

Modifies: â€œReduce quantity to 45, cap budget at 70Lâ€

Finance Agent

Budget OK

Reviewer Agent

Escalate again or approve

ğŸ§  Why it matters

Shows human correction mid-flight and re-entry into flow.

ğŸ•µï¸ Test Case 5: Unknown Vendor â†’ Risk Escalation
ğŸ¯ Tests

Vendor risk detection

Soft block handling

Human approval override

ğŸ§© User Input

â€œBuy 30 laptops from XYZ Tech Solutions, budget 25L.â€

ğŸ” Expected Flow

Intake Agent

Extracts fields

Vendor Risk Agent

Vendor status: UNKNOWN

Risk: MEDIUM

Reviewer Agent

ESCALATE_TO_HUMAN

Human Proxy

Approves with condition: â€œVendor onboarding requiredâ€

Reviewer Agent

Records conditional approval

ğŸ§  Why it matters

Very common real-world enterprise scenario.